<!-- <div class="card">
  <div class="card-header"> -->

<h3>Template Forms</h3>
<!-- </div>
  <div class="card-body container"> -->

<div class="row">
  <div class="col-lg-8">
    <form class="row" (ngSubmit)="onSubmit()" [formGroup]="reactiveForm">
      <div class="login-data row form-group g-3" formGroupName="loginData">
        <div class="col-md-6">
          <label for="email-input" class="form-label">Email</label>
          <input type="email" class="form-control" id="email-input" formControlName="email">
          <p class="error"
            *ngIf="reactiveForm.get('loginData.email').invalid && reactiveForm.get('loginData.email').touched">

            <span *ngIf="reactiveForm.get('loginData.email').errors['required']">* email is requires</span>
            <span *ngIf="reactiveForm.get('loginData.email').errors['email']">* email should be in email pattern</span>
            <span *ngIf="reactiveForm.get('loginData.email').errors['invalid']">* testing email is not valid</span>

          </p>
        </div>

        <div class="col-md-6">
          <label for="password-input" class="form-label">Password</label>
          <input type="password" class="form-control" id="password-input" formControlName="password">
          <p class="error"
            *ngIf="reactiveForm.get('loginData.password').invalid && reactiveForm.get('loginData.password').touched">
            * password should be between 5 and 15 letters
          </p>
        </div>
      </div>
      <p class="error" *ngIf="reactiveForm.get('loginData').invalid && reactiveForm.get('loginData').touched">
        * login data is not complete</p>

      <div class="personal-data row form-group g-3" formGroupName="personalData">
        <div class="col-12">
          <label for="address-input" class="form-label">Address</label>
          <input type="text" class="form-control" id="address-input" placeholder="1234 Main St"
            formControlName="addressA">
          <p class="error"
            *ngIf="reactiveForm.get('personalData.addressA').invalid && reactiveForm.get('personalData.addressA').touched">
            * address is required</p>

        </div>
        <div class="col-12">
          <label for="address-input-2" class="form-label">Address 2</label>
          <input type="text" class="form-control" id="address-input-2" placeholder="Apartment, studio, or floor"
            formControlName="addressB">
        </div>
        <div class="col-md-8">
          <label for="city-input" class="form-label">City</label>
          <input type="text" class="form-control" id="city-input" formControlName="city">
          <p class="error"
            *ngIf="reactiveForm.get('personalData.city').invalid && reactiveForm.get('personalData.city').touched">
            * city is required</p>

        </div>

        <div class="col-md-4">
          <label for="zip-input" class="form-label">Zip</label>
          <input type="text" class="form-control" id="zip-input" formControlName="zip">
        </div>

      </div>
      <p class="error" *ngIf="reactiveForm.get('personalData').invalid && reactiveForm.get('personalData').touched">
        * personal data is not complete</p>


      <div class="row form-group g-3" formArrayName="statesData">
        <div class="col-md-3">
          <label class="">States</label>
          <button type="button" class="btn btn-info text-white" (click)="onAddState()">Add State</button>
        </div>
        <div class="col-md-3" *ngFor="let control of reactiveForm.get('statesData')['controls']; let i = index">
          <p class="error up">
            <span
              *ngIf="reactiveForm.get('statesData')['controls'][i].invalid && reactiveForm.get('statesData')['controls'][i].touched">
              <span *ngIf="reactiveForm.get('statesData')['controls'][i].errors['required']">
                * state is required
              </span>
              <span *ngIf="reactiveForm.get('statesData')['controls'][i].errors['invalid']">
                * state is not valid
              </span>
            </span> &nbsp;&nbsp;
          </p>
          <select class="form-select" [formControlName]="i">
            <option *ngFor="let item of states; let i = index;" value="{{item}}">{{item}}</option>
          </select>

        </div>
      </div>
      <p class="error" *ngIf="reactiveForm.get('statesData').invalid && reactiveForm.get('statesData').touched">
        * states data is not complete</p>

      <div class="options-data row form-group g-3" formGroupName="optionsData">
        <div class="col-12">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="remember-check" formControlName="remember">
            <label class="form-check-label" for="remember-check">
              Remember me
            </label>
          </div>
        </div>

        <fieldset class="row g-3">
          <legend class="col-form-label col-md-4 pt-0">Account type</legend>
          <div class="form-check col-md-4">
            <input class="form-check-input" type="radio" id="free-option" value="free" formControlName="type">
            <label class="form-check-label" for="free-option">
              Free account
            </label>
          </div>
          <div class="form-check col-md-4">
            <input class="form-check-input" type="radio" id="premium-option" value="premium" formControlName="type">
            <label class="form-check-label" for="premium-option">
              Premium account
            </label>
          </div>
        </fieldset>
        <p class="error" *ngIf="reactiveForm.get('optionsData').invalid && reactiveForm.get('optionsData').touched">
          * you must choose account type</p>
      </div>

      <div class="col-12 mt-3 text-center">
        <button type="submit" class="btn btn-primary" style="width: min(80%,250px);" *ngIf="reactiveForm.valid">
          Signup
        </button>

        <p class="error big" *ngIf="reactiveForm.invalid">Please complete sign up form</p>
      </div>
    </form>

  </div>

  <div class="col-lg-4" style="margin-top: 4rem;">
    <h5>Form Data</h5>
    <p>Email: {{formResults.loginData.email}}</p>
    <p>Password: {{formResults.loginData.password}}</p>
    <p>Address: {{formResults.personalData.addressA}}</p>
    <p>Address2: {{formResults.personalData.addressB}}</p>
    <p>City: {{formResults.personalData.city}}</p>
    <p>States: {{formResults.statesData}}</p>
    <p>Zip: {{formResults.personalData.zip}}</p>
    <p>Remember: {{formResults.optionsData.remember}}</p>
    <p>Account type: {{formResults.optionsData.type}}</p>

  </div>
</div>
<!-- </div>
</div> -->
